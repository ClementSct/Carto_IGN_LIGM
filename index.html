<!DOCTYPE html>
<html lang="fr">

<head>
    <!-- Balise méta -->
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="logo_Carte_LIGM.svg">
    <title>Cartographie des sites de pollution</title>
    <!-- Eléments utiles -->
    <!-- Police sympa -->
    <link rel="stylesheet" href="./libraries/css2.css">

    <!-- lien vers le fichier de style de la bibliothèque leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />

    <!-- lien vers le fichier javascript de la bibliothèque leaflet, qui contient les fonctions prédéfinis-->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>

    <!-- JQuery -->
    <script src="./libraries/jquery-1.11.0.min.js"></script>
    <!-- Styles perso -->
    <link rel="stylesheet" href="./carto.css" type="text/css">

    <!-- ajout d'un plugin pour aider au chargement des geosjon volumineux -->
    <script src="https://unpkg.com/geojson-vt@3.2.0/geojson-vt.js"></script>
    <script src="leaflet-geojson-vt.js"></script>
    <!-- chargement du geojson -->
    <script src="./data/basol_pollution.js"></script>
    
    <!-- Fichiers de style de la bibliothèque MarkerClusterGroup de Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css"/>

    <!-- Script de MarkerCluster -->
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster-src.js"></script>

</head>

<body>
    <div class="error">
        <div class="cross">
            <img src="cross2.png" alt="fermer alerte">
        </div>
        <div class="contentError">
            <p>On dirait bien qu'aucun résultat ne corresponde à votre recherche</p>
        </div>
    </div>
    <div id="container">
        <!-- Div qui contient l'entête de la page web -->
        <div id="header">
            <h1>Cartographie des sites de pollution du sol</h1>
            <p>Projet d'analyse spatiale - ENSG. Université Gustave Eiffel. IGN</p>
        </div>

        <div id="contenu" class="contenu">
            <!-- Emplacement des filtres pour la carte -->
            <div id="filtre" class="filtre">
                <h3>Filtres géographiques</h3>
                <!-- menu déroulant pour les régions -->
                <label for="filtre-region">Régions</label></br>
                <select id="filtre-region" name="filtre-region">
                    <option value="">Choisissez une région</option>
                </select>
                <!-- menu déroulant pour les départements -->
                <label for="filtre-dpt">Départements</label></br>
                <select id="filtre-dpt" name="filtre-dpt">
                    <option value="">Choisissez un département</option>
                </select></br>
                <!-- menu déroulant pour les communes -->
                <label for="filtreCommune">Communes</label></br>
                <select id="filtreCommune" name="filtreCommune">
                    <option value="">Choisissez une commune</option>
                </select>

                <h3>Autres filtres </h3>
                <!-- checkbox pour les polluants -->
                <label for="filtreEntreprise">Type de pollution :</label></br>
                <div class="grid-container">
                    <div class="grid-item">
                        <div class="checkbox-container">
                            <input type="checkbox" id="organiques" name="organiques" class="polluant" onchange="checkboxValue(this)">
                            <label for="organiques">Micropolluants organiques</label>
                        </div>
                    </div>
                    <div class="grid-item">
                        <div class="checkbox-container">
                            <input type="checkbox" id="chimique" name="chimique" class="polluant" onchange="checkboxValue(this)">
                            <label for="chimique">Chimique</label>
                        </div>
                    </div>
                    <div class="grid-item">
                        <div class="checkbox-container">
                            <input type="checkbox" id="metaux" name="metaux" class="polluant" onchange="checkboxValue(this)">
                            <label for="metaux">Métaux et métailloïdes</label>
                        </div>
                    </div>
                    <div class="grid-item">
                        <div class="checkbox-container">
                            <input type="checkbox" id="phytosanitaires" name="phytosanitaires" class="polluant" onchange="checkboxValue(this)">
                            <label for="phytosanitaires">Phytosanitaires</label>
                        </div>
                    </div>
                    <div class="grid-item">
                        <div class="checkbox-container">
                            <input type="checkbox" id="mineraux" name="mineraux" class="polluant" onchange="checkboxValue(this)">
                            <label for="mineraux">Éléments minéraux</label>
                        </div>
                    </div>
                    <div class="grid-item">
                        <div class="checkbox-container">
                            <input type="checkbox" id="pharma" name="pharma" class="polluant" onchange="checkboxValue(this)">
                            <label for="pharma">Pharmaceutiques et hormones</label>
                        </div>
                    </div>
                    <div class="grid-item">
                        <div class="checkbox-container">
                            <input type="checkbox" id="info_manquantes" name="info_manquantes" class="polluant" onchange="checkboxValue(this)">
                            <label for="info_manquantes">Informations manquantes</label>
                        </div>
                    </div>
                </div>
                </br>
                <!-- menu déroulant pour les entreprises -->
                <label for="filtreEntreprise">Nom de l'entreprise</label></br>
                <select id="filtreEntreprise" name="filtreEntreprise">
                    <option value="">Choisissez une entreprise</option>
                </select>
                <h3>Rechercher</h3>
                <input type="text" placeholder="ex : Station service" class="searchBar">
                </br>
                <button class="filterbutton">Réinitialiser les filtres</button>
            </div>

            <!-- Emplacement de la carte -->
            <div id="carte" class="map">
            </div>
        </div>

    </div>
    <footer>
        <h2>À propos de ce site web</h2>
        Site web créé dans le cadre de la thèse de doctorat de <a href="https://cv.hal.science/chuanming-dong">Chuanming
            Dong</a>, hébergé <a href="https://pages.github.com/">sur GitHub Pages</a>, code disponible sous licence
        libre AGPL (contributions : I. Amri, S. Bodin, C. Dominguès, C. Dong, P. Gambette, R. Orly, N. Sebahoun, C. Sicot ; 
        plus d'informations : <a href="https://clementsct.github.io/Carto_IGN_LIGM/">sur GitHub</a>).<br>
        Source des données : fichier <a
            href="https://www.data.gouv.fr/fr/datasets/base-des-sols-pollues/">BASOL.json</a>
        (données dérivées de la <a
            href="https://www.georisques.gouv.fr/articles-risques/pollutions-sols-sis-anciens-sites-industriels/basol">base
            BASOL</a> mise à disposition par le <a href="https://www.ecologie.gouv.fr/">ministère chargé de
            l'environnement ou de la transition écologique</a>), traitements automatiques d'extraction d'événements
        décrits dans <a href="https://hal.science/hal-03366097v1">cette publication</a>.
    </footer>
    <!-- chargement des fichiers javascript qui contiennent les fonctionnalités de la cartographie et des menus déroulants -->
    <script type="text/javascript" src="layers_load.js"></script>
    <script type="text/javascript" src="carto.js"></script>
</body>

</html>